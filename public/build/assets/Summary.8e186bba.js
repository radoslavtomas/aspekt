import{h as S,i as a,B,o as n,c as d,a as c,u as e,w as g,F as v,H as N,b as t,t as s,y as C,d as V,L as j,k as f,j as D}from"./app.fc0ad415.js";import{_ as F}from"./MainLayout.bc42a645.js";import{r as L}from"./ArrowLeftCircleIcon.3a27f902.js";import{r as T}from"./ArrowRightCircleIcon.e663fca5.js";import"./NavigationBar.e79d4650.js";import"./plugin-vue_export-helper.21dcd24c.js";const E={class:"max-w-xl mx-auto pt-8"},H={class:"text-2xl text-center text-pink-600 font-semibold mb-4"},M={key:0,class:"mb-4"},O={class:"border-collapse border border-slate-400 shadow-md w-full text-sm"},$={class:"bg-gray-200"},q={colspan:"2",class:"border border-slate-400 p-2"},A={class:"p-2"},K={class:"p-2"},R={class:"border border-slate-400"},z={class:"p-2"},G={class:"p-2 font-bold"},I={class:"mb-4"},J={class:"border-collapse border border-slate-400 shadow-md w-full text-sm"},Q={class:"bg-gray-200"},U={colspan:"2",class:"border border-slate-400 p-2"},W=t("td",{class:"border border-slate-400 w-1/3 p-2"},"Email",-1),X={class:"border border-slate-400 w-2/3 p-2"},Y={class:"border border-slate-400 w-1/3 p-2"},Z={class:"border border-slate-400 w-2/3 p-2"},ee={class:"border border-slate-400 w-1/3 p-2"},te={class:"border border-slate-400 w-2/3 p-2"},se={class:"border border-slate-400 w-1/3 p-2"},oe={key:0,class:"border border-slate-400 w-2/3 p-2"},le={key:1,class:"border border-slate-400 w-2/3 p-2"},re={class:"border border-slate-400 w-1/3 p-2"},ae={class:"border border-slate-400 w-2/3 p-2"},ne={class:"border border-slate-400 w-1/3 p-2"},de={class:"border border-slate-400 w-2/3 p-2"},ce={class:"border border-slate-400 w-1/3 p-2"},ie={class:"border border-slate-400 w-2/3 p-2"},_e={class:"my-6 flex flex-col sm:flex-row flex-col-reverse justify-between items-center text-sm sm:text-base"},ue={class:"mb-4"},pe={class:"text-sm"},we={__name:"Summary",setup(be){const i=S(),p=a(()=>i.getters.basket),o=a(()=>i.getters.customer),l=a(()=>i.getters.lang),r=a(()=>D().props.value.locale),m=a(()=>i.getters.subtotal),h=[{value:"703",description:"Slovensko"},{value:"203",description:"\u010Cesk\xE1 republika"},{value:"276",description:"Nemecko"},{value:"616",description:"Po\u013Esko"},{value:"826",description:"Ve\u013Ek\xE1 Brit\xE1nia"},{value:"40",description:"Rak\xFAsko"},{value:"840",description:"Spojen\xE9 \u0161t\xE1ty"},{value:"124",description:"Kanada"}],w=a(()=>o.value.delivery_country?h.filter(_=>_.value===o.value.delivery_country)[0].description:""),x=a(()=>o.value.billing_country?h.filter(_=>_.value===o.value.billing_country)[0].description:""),y=a(()=>({basket:p.value,customer:o.value})),k=B(y.value),P=()=>{console.log("just before POST"),console.log(y.value),k.post("/eshop/create-order",{onSuccess:()=>console.log("hey")})};return(b,_)=>(n(),d(v,null,[c(e(N),{title:"Summary"}),c(F,null,{default:g(()=>[t("div",E,[t("h1",H,s(e(l)[e(r)].summaryTitle),1),e(p).length?(n(),d("div",M,[t("table",O,[t("thead",$,[t("tr",null,[t("th",q,s(e(l)[e(r)].basketPanel),1)])]),t("tbody",null,[(n(!0),d(v,null,C(e(p),u=>(n(),d("tr",{key:u.id},[t("td",A,s(u.qty)+" x "+s(u.title),1),t("td",K,s(u.aspekt_price),1)]))),128)),t("tr",R,[t("td",z,s(e(l)[e(r)].subtotal),1),t("td",G,s(e(m)),1)])])])])):V("",!0),t("div",I,[t("table",J,[t("thead",Q,[t("tr",null,[t("th",U,s(e(l)[e(r)].infoPanel),1)])]),t("tbody",null,[t("tr",null,[W,t("td",X,s(e(o).primary_email),1)]),t("tr",null,[t("td",Y,s(e(l)[e(r)].phoneAlt),1),t("td",Z,s(e(o).delivery_phone),1)]),t("tr",null,[t("td",ee,s(e(l)[e(r)].deliveryPanel),1),t("td",te,[t("p",null,s(e(o).delivery_first_name)+" "+s(e(o).delivery_last_name),1),t("p",null,s(e(o).delivery_street1),1),t("p",null,s(e(o).delivery_city),1),t("p",null,s(e(o).delivery_postal_code),1),t("p",null,s(e(w)),1)])]),t("tr",null,[t("td",se,s(e(l)[e(r)].billingPanel),1),e(o).show_billing_panel?(n(),d("td",le,[t("p",null,s(e(o).billing_first_name)+" "+s(e(o).billing_last_name),1),t("p",null,s(e(o).billing_street1),1),t("p",null,s(e(o).billing_city),1),t("p",null,s(e(o).billing_postal_code),1),t("p",null,s(e(x)),1)])):(n(),d("td",oe,s(e(l)[e(r)].billingPanelNote),1))]),t("tr",null,[t("td",re,s(e(l)[e(r)].notePanel),1),t("td",ae,s(e(o).comment),1)]),t("tr",null,[t("td",ne,s(e(l)[e(r)].paymentMethod),1),t("td",de,s(e(l)[e(r)].paymentMethodDelivery),1)]),t("tr",null,[t("td",ce,s(e(l)[e(r)].subtotal),1),t("td",ie,s(e(m)),1)])])])]),t("section",_e,[c(e(j),{href:b.route("shipping"),class:"rounded text-gray-500 text-center px-4 py-3 bg-gray-200 hover:bg-gray-300"},{default:g(()=>[c(e(L),{class:"w-5 h-5 inline"}),f(" "+s(e(l)[e(r)].backButtonShipping),1)]),_:1},8,["href"]),t("button",{onClick:P,class:"rounded text-white text-center px-4 py-3 mb-3 sm:mb-0 w-full sm:w-auto shadow-md bg-pink-500 hover:bg-pink-600"},[f(s(e(l)[e(r)].orderConfirmationButton)+" ",1),c(e(T),{class:"w-5 h-5 inline"})])]),t("section",ue,[t("p",pe,s(e(l)[e(r)].postageNote),1)])])]),_:1})],64))}};export{we as default};
