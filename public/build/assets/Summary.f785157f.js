import{o as a,c as n,b as e,f as r,S as L,r as w,a as i,u as d,w as k,F as x,e as D,H as M,t,G as O,d as B,h as m,L as $,y as F,B as P,g as H}from"./app.a6f8f2e3.js";import{_ as T,d as z}from"./MainLayout.61965cd8.js";import{r as E}from"./ArrowLeftCircleIcon.56b17207.js";import{r as Z}from"./ArrowRightCircleIcon.6b486272.js";import"./NavigationBar.9ab17583.js";import"./plugin-vue_export-helper.21dcd24c.js";function q(S,u){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}const A={class:"max-w-xl mx-auto pt-8"},G={class:"text-2xl text-center text-pink-600 font-semibold mb-4"},I={key:0,class:"mb-4"},K={class:"border-collapse border border-slate-400 shadow-md w-full text-sm"},R={class:"bg-gray-200"},J={class:"border border-slate-400 p-2",colspan:"2"},Q={class:"p-2"},U={class:"p-2"},W={class:"border border-slate-400"},X={class:"p-2"},Y={class:"p-2 font-bold"},ee={class:"mb-4"},te={class:"border-collapse border border-slate-400 shadow-md w-full text-sm"},se={class:"bg-gray-200"},le={class:"border border-slate-400 p-2",colspan:"2"},oe=e("td",{class:"border border-slate-400 w-1/3 p-2"},"Email",-1),ae={class:"border border-slate-400 w-2/3 p-2"},re={class:"border border-slate-400 w-1/3 p-2"},ne={class:"border border-slate-400 w-2/3 p-2"},de={class:"border border-slate-400 w-1/3 p-2"},ue={class:"border border-slate-400 w-2/3 p-2"},ce={class:"border border-slate-400 w-1/3 p-2"},ie={key:0,class:"border border-slate-400 w-2/3 p-2"},pe={key:1,class:"border border-slate-400 w-2/3 p-2"},_e={class:"border border-slate-400 w-1/3 p-2"},ve={class:"border border-slate-400 w-2/3 p-2"},he={class:"border border-slate-400 w-1/3 p-2"},be={class:"border border-slate-400 w-2/3 p-2"},me={class:"border border-slate-400 w-1/3 p-2"},ye={class:"border border-slate-400 w-2/3 p-2"},ge={key:1,class:"text-sm text-red-500 font-bold"},fe={class:"my-6 flex flex-col sm:flex-row flex-col-reverse justify-between items-center text-sm sm:text-base"},we={class:"mb-4"},ke={class:"text-sm"},Ve={__name:"Summary",setup(S){const u=D(),v=r(()=>u.getters.basket),s=r(()=>u.getters.customer),l=r(()=>u.getters.lang),o=r(()=>H().props.value.locale),y=r(()=>u.getters.subtotal),g=[{value:"703",description:"Slovensko"},{value:"203",description:"\u010Cesk\xE1 republika"},{value:"276",description:"Nemecko"},{value:"616",description:"Po\u013Esko"},{value:"826",description:"Ve\u013Ek\xE1 Brit\xE1nia"},{value:"40",description:"Rak\xFAsko"},{value:"840",description:"Spojen\xE9 \u0161t\xE1ty"},{value:"124",description:"Kanada"}],C=r(()=>s.value.delivery_country?g.filter(p=>p.value===s.value.delivery_country)[0].description:""),N=r(()=>s.value.billing_country?g.filter(p=>p.value===s.value.billing_country)[0].description:""),h=r(()=>({basket:v.value,customer:s.value})),V=L(h.value),c=w(!1),f=w(!1),j=()=>{if(!c.value){if(!h.value.basket.length||!Object.keys(h.value.customer).length){f.value=!0;return}c.value=!0,V.post("/eshop/create-order",{onSuccess:()=>c.value=!1})}};return(b,p)=>(a(),n(x,null,[i(d(M),{title:l.value[o.value].eshopSummaryTitle},null,8,["title"]),i(T,null,{default:k(()=>[e("div",A,[e("h1",G,t(l.value[o.value].eshopSummaryTitle),1),v.value.length?(a(),n("div",I,[e("table",K,[e("thead",R,[e("tr",null,[e("th",J,t(l.value[o.value].eshopBasketPanel),1)])]),e("tbody",null,[(a(!0),n(x,null,O(v.value,_=>(a(),n("tr",{key:_.id},[e("td",Q,t(_.qty)+" x "+t(_.title),1),e("td",U,t(_.aspekt_price),1)]))),128)),e("tr",W,[e("td",X,t(l.value[o.value].subtotal),1),e("td",Y,t(y.value),1)])])])])):B("",!0),e("div",ee,[e("table",te,[e("thead",se,[e("tr",null,[e("th",le,t(l.value[o.value].eshopInfoPanel),1)])]),e("tbody",null,[e("tr",null,[oe,e("td",ae,t(s.value.primary_email),1)]),e("tr",null,[e("td",re,t(l.value[o.value].eshopPhoneAlt),1),e("td",ne,t(s.value.delivery_phone),1)]),e("tr",null,[e("td",de,t(l.value[o.value].eshopDeliveryPanel),1),e("td",ue,[e("p",null,t(s.value.delivery_first_name)+" "+t(s.value.delivery_last_name),1),e("p",null,t(s.value.delivery_street1),1),e("p",null,t(s.value.delivery_city),1),e("p",null,t(s.value.delivery_postal_code),1),e("p",null,t(C.value),1)])]),e("tr",null,[e("td",ce,t(l.value[o.value].eshopBillingPanel),1),s.value.show_billing_panel?(a(),n("td",pe,[e("p",null,t(s.value.billing_first_name)+" "+t(s.value.billing_last_name),1),e("p",null,t(s.value.billing_street1),1),e("p",null,t(s.value.billing_city),1),e("p",null,t(s.value.billing_postal_code),1),e("p",null,t(N.value),1)])):(a(),n("td",ie,t(l.value[o.value].eshopBillingPanelNote),1))]),e("tr",null,[e("td",_e,t(l.value[o.value].eshopNotePanel),1),e("td",ve,t(s.value.comment),1)]),e("tr",null,[e("td",he,t(l.value[o.value].eshopPaymentMethod),1),e("td",be,t(l.value[o.value].eshopPaymentMethodDelivery),1)]),e("tr",null,[e("td",me,t(l.value[o.value].eshopSubtotal),1),e("td",ye,t(y.value),1)])])])]),f.value?(a(),n("p",ge,[i(d(q),{class:"h-5 w-5 inline-block"}),m(" V\xE1\u0161 ko\u0161\xEDk je pr\xE1zdny ")])):B("",!0),e("section",fe,[i(d($),{href:b.route("shipping"),class:"rounded text-gray-500 text-center px-4 py-3 bg-gray-200 hover:bg-gray-300"},{default:k(()=>[i(d(E),{class:"w-5 h-5 inline"}),m(" "+t(l.value[o.value].eshopBackButtonShipping),1)]),_:1},8,["href"]),e("button",{class:F([c.value?"bg-pink-300":"bg-pink-500 hover:bg-pink-600","rounded text-white text-center px-4 py-3 mb-3 sm:mb-0 w-full sm:w-auto shadow-md"]),onClick:j},[m(t(l.value[o.value].eshopOrderConfirmationButton)+" ",1),c.value?(a(),P(d(z),{key:0,class:"w-5 h-5 inline animate-spin"})):(a(),P(d(Z),{key:1,class:"w-5 h-5 inline"}))],2)]),e("section",we,[e("p",ke,t(l.value[o.value].postageNote),1)])])]),_:1})],64))}};export{Ve as default};
