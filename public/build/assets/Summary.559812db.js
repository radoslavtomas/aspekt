import{o as a,c as d,b as t,f as n,P as L,r as w,a as u,u as e,w as k,F as x,H as z,t as s,E as D,d as B,h as y,L as M,G as O,A as P,e as $,g as E}from"./app.b64f7a3f.js";import{_ as F,d as H}from"./MainLayout.09842a9c.js";import{r as A}from"./ArrowLeftCircleIcon.5b62b7c3.js";import{r as T}from"./ArrowRightCircleIcon.3ae3915c.js";import"./NavigationBar.79c7c39d.js";import"./plugin-vue_export-helper.21dcd24c.js";function q(S,c){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}const G={class:"max-w-xl mx-auto pt-8"},I={class:"text-2xl text-center text-pink-600 font-semibold mb-4"},K={key:0,class:"mb-4"},R={class:"border-collapse border border-slate-400 shadow-md w-full text-sm"},J={class:"bg-gray-200"},Q={colspan:"2",class:"border border-slate-400 p-2"},U={class:"p-2"},W={class:"p-2"},X={class:"border border-slate-400"},Y={class:"p-2"},Z={class:"p-2 font-bold"},ee={class:"mb-4"},te={class:"border-collapse border border-slate-400 shadow-md w-full text-sm"},se={class:"bg-gray-200"},oe={colspan:"2",class:"border border-slate-400 p-2"},re=t("td",{class:"border border-slate-400 w-1/3 p-2"},"Email",-1),le={class:"border border-slate-400 w-2/3 p-2"},ae={class:"border border-slate-400 w-1/3 p-2"},ne={class:"border border-slate-400 w-2/3 p-2"},de={class:"border border-slate-400 w-1/3 p-2"},ce={class:"border border-slate-400 w-2/3 p-2"},ie={class:"border border-slate-400 w-1/3 p-2"},ue={key:0,class:"border border-slate-400 w-2/3 p-2"},pe={key:1,class:"border border-slate-400 w-2/3 p-2"},_e={class:"border border-slate-400 w-1/3 p-2"},he={class:"border border-slate-400 w-2/3 p-2"},be={class:"border border-slate-400 w-1/3 p-2"},me={class:"border border-slate-400 w-2/3 p-2"},ye={class:"border border-slate-400 w-1/3 p-2"},ve={class:"border border-slate-400 w-2/3 p-2"},ge={key:1,class:"text-sm text-red-500 font-bold"},fe={class:"my-6 flex flex-col sm:flex-row flex-col-reverse justify-between items-center text-sm sm:text-base"},we={class:"mb-4"},ke={class:"text-sm"},Ve={__name:"Summary",setup(S){const c=$(),h=n(()=>c.getters.basket),o=n(()=>c.getters.customer),r=n(()=>c.getters.lang),l=n(()=>E().props.value.locale),v=n(()=>c.getters.subtotal),g=[{value:"703",description:"Slovensko"},{value:"203",description:"\u010Cesk\xE1 republika"},{value:"276",description:"Nemecko"},{value:"616",description:"Po\u013Esko"},{value:"826",description:"Ve\u013Ek\xE1 Brit\xE1nia"},{value:"40",description:"Rak\xFAsko"},{value:"840",description:"Spojen\xE9 \u0161t\xE1ty"},{value:"124",description:"Kanada"}],C=n(()=>o.value.delivery_country?g.filter(p=>p.value===o.value.delivery_country)[0].description:""),N=n(()=>o.value.billing_country?g.filter(p=>p.value===o.value.billing_country)[0].description:""),b=n(()=>({basket:h.value,customer:o.value})),V=L(b.value),i=w(!1),f=w(!1),j=()=>{if(!i.value){if(!b.value.basket.length||!Object.keys(b.value.customer).length){f.value=!0;return}i.value=!0,V.post("/eshop/create-order",{onSuccess:()=>i.value=!1})}};return(m,p)=>(a(),d(x,null,[u(e(z),{title:"Summary"}),u(F,null,{default:k(()=>[t("div",G,[t("h1",I,s(e(r)[e(l)].eshopSummaryTitle),1),e(h).length?(a(),d("div",K,[t("table",R,[t("thead",J,[t("tr",null,[t("th",Q,s(e(r)[e(l)].eshopBasketPanel),1)])]),t("tbody",null,[(a(!0),d(x,null,D(e(h),_=>(a(),d("tr",{key:_.id},[t("td",U,s(_.qty)+" x "+s(_.title),1),t("td",W,s(_.aspekt_price),1)]))),128)),t("tr",X,[t("td",Y,s(e(r)[e(l)].subtotal),1),t("td",Z,s(e(v)),1)])])])])):B("",!0),t("div",ee,[t("table",te,[t("thead",se,[t("tr",null,[t("th",oe,s(e(r)[e(l)].eshopInfoPanel),1)])]),t("tbody",null,[t("tr",null,[re,t("td",le,s(e(o).primary_email),1)]),t("tr",null,[t("td",ae,s(e(r)[e(l)].eshopPhoneAlt),1),t("td",ne,s(e(o).delivery_phone),1)]),t("tr",null,[t("td",de,s(e(r)[e(l)].eshopDeliveryPanel),1),t("td",ce,[t("p",null,s(e(o).delivery_first_name)+" "+s(e(o).delivery_last_name),1),t("p",null,s(e(o).delivery_street1),1),t("p",null,s(e(o).delivery_city),1),t("p",null,s(e(o).delivery_postal_code),1),t("p",null,s(e(C)),1)])]),t("tr",null,[t("td",ie,s(e(r)[e(l)].eshopBillingPanel),1),e(o).show_billing_panel?(a(),d("td",pe,[t("p",null,s(e(o).billing_first_name)+" "+s(e(o).billing_last_name),1),t("p",null,s(e(o).billing_street1),1),t("p",null,s(e(o).billing_city),1),t("p",null,s(e(o).billing_postal_code),1),t("p",null,s(e(N)),1)])):(a(),d("td",ue,s(e(r)[e(l)].eshopBillingPanelNote),1))]),t("tr",null,[t("td",_e,s(e(r)[e(l)].eshopNotePanel),1),t("td",he,s(e(o).comment),1)]),t("tr",null,[t("td",be,s(e(r)[e(l)].eshopPaymentMethod),1),t("td",me,s(e(r)[e(l)].eshopPaymentMethodDelivery),1)]),t("tr",null,[t("td",ye,s(e(r)[e(l)].eshopSubtotal),1),t("td",ve,s(e(v)),1)])])])]),f.value?(a(),d("p",ge,[u(e(q),{class:"h-5 w-5 inline-block"}),y(" V\xE1\u0161 ko\u0161\xEDk je pr\xE1zdny")])):B("",!0),t("section",fe,[u(e(M),{href:m.route("shipping"),class:"rounded text-gray-500 text-center px-4 py-3 bg-gray-200 hover:bg-gray-300"},{default:k(()=>[u(e(A),{class:"w-5 h-5 inline"}),y(" "+s(e(r)[e(l)].eshopBackButtonShipping),1)]),_:1},8,["href"]),t("button",{onClick:j,class:O([i.value?"bg-pink-300":"bg-pink-500 hover:bg-pink-600","rounded text-white text-center px-4 py-3 mb-3 sm:mb-0 w-full sm:w-auto shadow-md"])},[y(s(e(r)[e(l)].eshopOrderConfirmationButton)+" ",1),i.value?(a(),P(e(H),{key:0,class:"w-5 h-5 inline animate-spin"})):(a(),P(e(T),{key:1,class:"w-5 h-5 inline"}))],2)]),t("section",we,[t("p",ke,s(e(r)[e(l)].postageNote),1)])])]),_:1})],64))}};export{Ve as default};
