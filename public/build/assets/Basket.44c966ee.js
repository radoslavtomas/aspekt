import{o,c as a,b as e,e as C,r as $,A as y,u as t,a as l,f as p,w as k,F as v,H as N,t as n,L as x,h as g,d as f,E as j,g as q}from"./app.32798085.js";import{_ as L}from"./MainLayout.207f92f3.js";import{r as F}from"./ArrowRightCircleIcon.ffd4dc2c.js";import"./NavigationBar.9a5b33f2.js";import"./plugin-vue_export-helper.21dcd24c.js";function M(h,s){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15"})])}function S(h,s){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function B(h,s){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})])}function V(h,s){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}const E={class:"flex justify-start items-center"},H={class:"h-full flex justify-start items-center"},z={class:"border border-r-0 border-gray-300 rounded-l w-7 h-7 flex justify-center items-center"},I={class:"block"},P=["value"],T={class:"border border-l-0 border-gray-300 rounded-r w-7 h-7 flex justify-center items-center"},A={__name:"BasketProductCount",props:{book_id:Number,qty:Number},setup(h){const s=h,r=C(),c=$(null),b=()=>r.dispatch("incrementBookCount",{book_id:s.book_id}),d=m=>{let u=parseInt(m.target.value);isNaN(u)&&(u=s.qty),r.dispatch("incrementBookCountBy",{book_id:s.book_id,qty:u})},_=m=>{let u=m.target.value;(isNaN(u)||!Number.isInteger(u))&&(c.value.value=s.qty)},w=()=>r.dispatch("decrementBookCount",{book_id:s.book_id}),i=()=>r.dispatch("removeBookFromBasket",{book_id:s.book_id});return(m,u)=>(o(),a("div",E,[e("div",H,[e("div",z,[s.qty===1?(o(),y(t(V),{key:0,onClick:i,class:"h-4 w-4 text-red-500 hover:text-red-600 cursor-pointer"})):(o(),y(t(M),{key:1,onClick:w,class:"h-4 w-4 text-red-500 hover:text-red-600 cursor-pointer"}))]),e("label",I,[e("input",{value:s.qty,type:"tel",onInput:d,onBlur:_,ref_key:"productCount",ref:c,class:"text-sm text-center h-7 w-12 block w-full border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,40,P)]),e("div",T,[l(t(S),{onClick:b,class:"h-4 w-4 text-teal-600 hover:text-teal-700 cursor-pointer"})])])]))}},D={class:"my-4 max-w-xl mx-auto"},G={class:"text-2xl text-center text-pink-600 font-bold mb-4"},J={key:0,class:""},K={class:"mb-2 font-bold"},O={class:"mb-4 text-sm"},Q={key:1},R={class:"col-span-4 sm:col-span-2"},U=["src","alt"],W={class:"col-span-8 flex flex-col justify-between items-stretch"},X={class:"mb-2"},Y={class:"text-sm sm:text-base uppercase font-bold"},Z={class:"text-sm italic mb-1"},tt={class:"sm:hidden font-bold"},et={class:"hidden sm:block col-span-2 text-right font-bold"},st={key:2,class:"mt-4"},ot={class:"font-bold text-right"},rt={class:""},nt={key:3,class:"my-6 flex flex-col sm:flex-row flex-col-reverse justify-between items-center text-sm sm:text-base"},at={class:"text-white"},ct={class:""},it={class:"text-xs"},mt={__name:"Basket",props:{category:String,slug:String|null},setup(h){const s=C(),r=p(()=>s.getters.lang),c=p(()=>q().props.value.locale),b=p(()=>s.getters.subtotal),d=p(()=>s.getters.basket);return(_,w)=>(o(),a(v,null,[l(t(N),{title:"Basket"}),l(L,null,{default:k(()=>[e("div",D,[e("h1",G,n(t(r)[t(c)].eshopBasketTitle),1),t(d).length?f("",!0):(o(),a("section",J,[e("p",K,n(t(r)[t(c)].eshopBasketEmpty),1),e("p",O,n(t(r)[t(c)].booksTeaser),1),l(t(x),{href:_.route("books",["vsetko"]),class:"block rounded text-gray-500 text-center text-white px-4 py-3 my-4 shadow-md bg-pink-500 hover:bg-pink-600"},{default:k(()=>[l(t(B),{class:"mb-1 w-5 h-5 inline"}),g(" "+n(t(r)[t(c)].eshopBasketEmptyButton),1)]),_:1},8,["href"])])),t(d).length?(o(),a("section",Q,[(o(!0),a(v,null,j(t(d),i=>(o(),a("div",{key:i.id,class:"grid grid-cols-12 gap-4 py-4 border-b border-gray-300"},[e("div",R,[e("img",{class:"w-32 sm:w-20 h-auto shadow border border-gray-200 rounded",src:`/storage/${i.cover}`,alt:i.title},null,8,U)]),e("div",W,[e("div",X,[e("h4",Y,n(i.title),1),e("h6",Z,n(i.authors),1),e("h3",tt,n(i.aspekt_price),1)]),l(A,{book_id:i.book_id,qty:i.qty},null,8,["book_id","qty"])]),e("div",et,n(i.aspekt_price),1)]))),128))])):f("",!0),t(d).length?(o(),a("section",st,[e("p",ot,[e("span",rt,n(t(r)[t(c)].eshopSubtotal)+":",1),g(" "+n(t(b)),1)])])):f("",!0),t(d).length?(o(),a("section",nt,[l(t(x),{href:_.route("books",["vsetko"]),class:"rounded text-gray-500 text-center px-4 py-3 bg-gray-200 hover:bg-gray-300"},{default:k(()=>[l(t(B),{class:"mb-1 w-5 h-5 inline"}),g(" "+n(t(r)[t(c)].eshopBackButtonBasket),1)]),_:1},8,["href"]),l(t(x),{class:"rounded text-white text-center px-4 py-3 mb-3 sm:mb-0 w-full sm:w-auto shadow-md bg-pink-500 hover:bg-pink-600",href:_.route("shipping"),target:"_blank"},{default:k(()=>[e("span",at,[g(n(t(r)[t(c)].eshopForwardButtonBasket)+" ",1),l(t(F),{class:"w-5 h-5 inline"})])]),_:1},8,["href"])])):f("",!0),e("section",ct,[e("p",it,n(t(r)[t(c)].eshopPostageNote),1)])])]),_:1})],64))}};export{mt as default};
